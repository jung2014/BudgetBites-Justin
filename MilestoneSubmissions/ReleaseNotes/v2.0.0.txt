Week 2 Release Notes: 


<!-- Release notes generated using configuration in .github/release.yml at main -->

## What's Changed

### Exciting New Features üéâ
* **User Preferences System** - Comprehensive meal sorting and prioritization preferences
* **Personalized Recipe Recommendations** - Recipes automatically sorted based on user preferences
* **Enhanced Settings Page** - Expanded settings with meal planning customization options

### Recipe & Meal Planning Features üç≥
* **Customizable Recipe Sorting**:
  - Sort by relevance, price, time, calories, health score, or popularity
  - Ascending or descending sort order
  - Priority factor weighting system (1-10 scale) for:
    - Price (cost per serving)
    - Time (ready time)
    - Calories
    - Health score
  - Intelligent recipe scoring algorithm that combines multiple factors
  - Preferences automatically applied to all recipe searches and grocery list generation
* **Dashboard Preferences Display**:
  - Quick view of current sorting preferences on dashboard
  - Visual display of priority factor weights
  - Easy access to preferences settings

### Frontend Changes ‚ú®
* **Professional Color Scheme**:
  - Modern blue and grey palette with CSS custom properties
  - Primary blue (#2563eb) with dark and light variants
  - Secondary grey tones (#64748b) for text and accents
  - Consistent color system across all pages
* **Enhanced Card Design**:
  - Improved card shadows with hover effects
  - Smooth transitions and animations
  - Better visual hierarchy with rounded corners (12px border radius)
  - Card hover effects with elevation and shadow changes
* **Improved Button Styling**:
  - Enhanced button hover states with subtle animations
  - Better visual feedback on interactions
  - Consistent button sizing and spacing
  - Improved outline button styles
* **Form Enhancements**:
  - Better form control styling with focus states
  - Improved input borders and shadows
  - Enhanced select dropdown styling
  - Range slider controls for priority factors with live value display
  - Better form label typography
* **Settings Page Redesign**:
  - Expanded settings page with three sections (Username, Password, Preferences)
  - Professional card layout with shadow effects
  - Interactive range sliders for priority factors
  - Real-time value display for slider inputs
  - Clear visual separation between settings sections
* **Dashboard Improvements**:
  - Enhanced dashboard layout with card-based statistics
  - Better organization of user information
  - Preferences quick view section
  - Improved responsive grid layout
  - Better visual hierarchy and spacing
* **Recipe Card Enhancements**:
  - Improved badge styling with subtle backgrounds
  - Better image handling with object-fit
  - Enhanced card hover effects
  - Improved information hierarchy
  - Better spacing and typography
* **UI Polish**:
  - Custom scrollbar styling matching color scheme
  - Smooth page transition animations
  - Improved alert styling with better colors
  - Enhanced navbar with hover effects
  - Better responsive design for mobile devices
  - Improved loading states and visual feedback

### Backend Changes üîß
* **User Preferences System**:
  - `getUserPreferences()` function to retrieve user preferences
  - `saveUserPreferences()` function to update preferences
  - `sortRecipesByPreferences()` algorithm for intelligent recipe sorting
  - Automatic preference application to all recipe searches
  - Default preferences fallback when user hasn't set preferences
* **Preferences Integration**:
  - Preferences loaded on dashboard, discover, favorites, and grocery list pages
  - Recipe sorting applied to search results
  - Preferences used in grocery list generation
  - Settings route for updating preferences (`/settings/preferences`)
* **Testing Framework Integration**:
  - Mocha test runner configuration
  - Chai assertion library with HTTP plugin for API testing
  - Proxyquire for module mocking and dependency injection
  - Sinon for spies, stubs, and mocks
  - Test environment configuration with isolated database stubs
* **Test Coverage**:
  - Login page rendering tests
  - User registration route tests (success and validation scenarios)
  - Recipe database persistence tests
  - Database stub utilities for isolated unit testing
* **Test Utilities**:
  - Reusable database stub factory functions
  - Test user builder helpers
  - Database behavior reset utilities for test isolation

### API & Database Changes üóÑÔ∏è
* **User Preferences Table**:
  - New `user_preferences` table with user-specific settings
  - Sort by and sort order columns
  - JSONB column for priority factors (price, time, calories, health)
  - Automatic timestamp tracking (created_at, updated_at)
  - Foreign key relationship with users table
  - Database index on user_id for optimized queries
  - Default preference values for new users

### Other Changes
* Updated release configuration - Removed `Semver-Major` label from Breaking Changes category in `.github/release.yml`
* Package dependency updates:
  - Added `proxyquire@^2.1.3` for module mocking
  - Added `sinon@^21.0.0` for test doubles and spies
  - Updated `@types/node` from 24.10.0 to 24.10.1
* Test script configuration in `package.json`:
  - `test` script for running Mocha test suite
  - `testandrun` script for automated testing before server startup
* CSS architecture improvements:
  - CSS custom properties (variables) for consistent theming
  - Modular CSS organization
  - Better maintainability and scalability

## Testing Details

### Test Suite Structure
* **Location**: `test/server.spec.js`
* **Test Environment**: Isolated test environment with mocked database connections
* **Test Categories**:
  - Server initialization and routing tests
  - User registration endpoint tests
  - Recipe persistence function tests

### Test Coverage Highlights
* **Login Page**: Verifies correct rendering of login page with expected content
* **Registration Endpoint**: 
  - Tests successful user registration with proper redirects
  - Validates input validation for missing username
  - Verifies password hashing and database interaction
* **Recipe Persistence**:
  - Tests recipe saving to database with complete recipe data
  - Validates handling of recipes with missing IDs
  - Verifies proper database query execution

## New Contributors
* Testing infrastructure and test suite implementation
* User preferences system and UI/UX enhancements

**Full Changelog**: https://github.com/Manan-KK/BudgetBites/compare/v1.0.0...v2.0.0

